:root {
  color-scheme: dark;
}
html, body, #root {
  margin: 0;
  padding: 0;
  height: 100%;
  background: #0b0e14;
  color: #e6edf3;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
}
.page { display: grid; grid-template-rows: auto 1fr auto; height: 100%; }
.bar, .foot { display: flex; align-items: center; gap: 12px; padding: 10px 16px; background: #0f131a; border-bottom: 1px solid #1a2230; }
.foot { border-top: 1px solid #1a2230; border-bottom: none; background: #0f131a; }
.title { font-weight: 600; }
.meta { display: flex; gap: 12px; opacity: 0.9; font-size: 0.9rem; }
.viewport { position: relative; width: 100%; height: 100%; overflow: hidden; }
.canvas { width: 100%; height: 100%; touch-action: none; cursor: grab; }
.canvas:active { cursor: grabbing; }
.hud { position: absolute; bottom: 12px; left: 12px; background: rgba(15,19,26,0.9); border: 1px solid #1a2230; padding: 8px 10px; border-radius: 8px; font-size: 0.9rem; }

/* Sidebar */
.sidebtn { background: #121826; color: #e6edf3; border: 1px solid #1a2230; border-radius: 6px; padding: 6px 10px; font-size: 16px; }
.sidebtn:hover { background: #141b2a; }
.sidebar { position: absolute; top: 0; left: 0; bottom: 0; width: 280px; background: rgba(15,19,26,0.98); border-right: 1px solid #1a2230; padding: 12px; transform: translateX(0); transition: transform 160ms ease; overflow-y: auto; }
.sidebar.closed { transform: translateX(-100%); }
.section { margin-bottom: 16px; }
.section-title { font-weight: 600; margin-bottom: 8px; opacity: 0.9; }
.line { display: flex; align-items: center; gap: 8px; margin-top: 8px; }
.line input[type="range"] { width: 140px; }
.val { opacity: 0.8; font-variant-numeric: tabular-nums; }

/* Right analytics panel */
.rpanel { position: absolute; top: 0; right: 0; bottom: 0; width: 360px; background: rgba(15,19,26,0.98); border-left: 1px solid #1a2230; padding: 12px; transform: translateX(0); transition: transform 160ms ease; overflow-y: auto; }
.rpanel.closed { transform: translateX(100%); }
.rhead { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
.bottom-controls { display: flex; align-items: center; gap: 16px; flex-wrap: wrap; margin-top: 6px; }
.bottom-controls .line { gap: 10px; }
.bottom-controls input[type="range"] { width: 160px; }
.bottom-controls input[type="number"] { width: 140px; background: #121826; color: #e6edf3; border: 1px solid #1a2230; border-radius: 6px; padding: 4px 6px; }
